(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e456c3b"],{"38d5":function(e,t,n){"use strict";n("68ef")},"772a":function(e,t,n){"use strict";var a=n("d282"),i=n("db85"),s=Object(a["a"])("form"),r=s[0],o=s[1];t["a"]=r({props:{colon:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,submitOnEnter:{type:Boolean,default:!0},validateTrigger:{type:String,default:"onBlur"},showError:{type:Boolean,default:!0},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{validateSeq:function(){var e=this;return new Promise((function(t,n){var a=[];e.fields.reduce((function(e,t){return e.then((function(){if(!a.length)return t.validate().then((function(e){e&&a.push(e)}))}))}),Promise.resolve()).then((function(){a.length?n(a):t()}))}))},validateAll:function(){var e=this;return new Promise((function(t,n){Promise.all(e.fields.map((function(e){return e.validate()}))).then((function(e){e=e.filter((function(e){return e})),e.length?n(e):t()}))}))},validate:function(e){return e?this.validateField(e):this.validateFirst?this.validateSeq():this.validateAll()},validateField:function(e){var t=this.fields.filter((function(t){return t.name===e}));return t.length?new Promise((function(e,n){t[0].validate().then((function(t){t?n(t):e()}))})):Promise.reject()},resetValidation:function(e){this.fields.forEach((function(t){e&&t.name!==e||t.resetValidation()}))},scrollToField:function(e,t){this.fields.forEach((function(n){n.name===e&&n.$el.scrollIntoView(t)}))},addField:function(e){this.fields.push(e),Object(i["a"])(this.fields,this)},removeField:function(e){this.fields=this.fields.filter((function(t){return t!==e}))},getValues:function(){return this.fields.reduce((function(e,t){return e[t.name]=t.formValue,e}),{})},onSubmit:function(e){e.preventDefault(),this.submit()},submit:function(){var e=this,t=this.getValues();this.validate().then((function(){e.$emit("submit",t)})).catch((function(n){e.$emit("failed",{values:t,errors:n}),e.scrollToError&&e.scrollToField(n[0].name)}))}},render:function(){var e=arguments[0];return e("form",{class:o(),on:{submit:this.onSubmit}},[this.slots()])}})},"8edc":function(e,t,n){"use strict";var a=n("f7be"),i=n.n(a);i.a},a16c:function(e,t,n){e.exports=n.p+"img/header.71b5628a.png"},a55b:function(e,t,n){"use strict";n.r(t);var a,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-wrap"},[a("van-image",{staticStyle:{"padding-top":"20px"},attrs:{src:n("a16c")}}),a("div",{staticClass:"desc"},[e._v("灰雀，关注医疗移民")]),a("van-form",{attrs:{"label-width":"3.2em"},on:{submit:e.onSubmit}},[a("div",{staticClass:"form"},[a("van-field",{attrs:{type:"tel",name:"phone",label:"手机号",placeholder:"请输入手机号","left-icon":"phone",rules:[{required:!0,message:"手机号不能为空"},{validator:e.validPhone,message:"请输入正确手机号"}]},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),a("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"请输入密码","left-icon":"lock",rules:[{required:!0,message:"密码不能为空"},{validator:e.validatePassLength,message:"密码长度为8-16位字符"},{validator:e.validatePassSpacesChar,message:"密码不能包含空格"},{validator:e.validatePassSpecialChar,message:"密码包含非法字符"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("div",{staticClass:"btn",staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("登录")])],1)])],1)},s=[],r=(n("b0c0"),n("ade3")),o=(n("4056"),n("44bf")),l=(n("e7e5"),n("d399")),c=(n("66b9"),n("b650")),u=(n("38d5"),n("772a")),d=(n("be7f"),n("565f")),f=n("365c"),h={components:(a={},Object(r["a"])(a,d["a"].name,d["a"]),Object(r["a"])(a,u["a"].name,u["a"]),Object(r["a"])(a,c["a"].name,c["a"]),Object(r["a"])(a,l["a"].name,l["a"]),Object(r["a"])(a,o["a"].name,o["a"]),a),data:function(){return{phone:"",password:""}},methods:{onSubmit:function(e){var t=this;f["a"].User.login(e.phone,e.password).then((function(e){t.$toast.success(e),t.$router.push({name:"Activity"})})).catch((function(e){t.$toast.fail(e.message),console.log(e)}))},validPhone:function(e){return""!==e&&!!/^1[3456789]\d{9}$/.test(e)},validatePassLength:function(e){return!!/^.{8,16}$/.test(e)},validatePassSpacesChar:function(e){return!/\s+/.test(e)},validatePassSpecialChar:function(e){return!/[^\s\~\!\@\#\$\%\^\&\*\(\)\_\+\-\/\.\?\[\]\{\}\<\>\=0-9a-zA-Z]+/.test(e)},validateCheckPass:function(e){return e===this.password}}},v=h,m=(n("8edc"),n("2877")),p=Object(m["a"])(v,i,s,!1,null,"6c79ca62",null);t["default"]=p.exports},f7be:function(e,t,n){}}]);