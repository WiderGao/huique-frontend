(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0db19f9c"],{"16ec":function(e,t,a){"use strict";a.r(t);var s,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-info-wrap"},[a("van-form",[a("van-field",{attrs:{label:"姓名",placeholder:"请输入您的姓名",rows:"1",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("van-field",{attrs:{label:"手机",placeholder:"请输入您的手机号码",type:"tel",rows:"1",required:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),a("van-field",{attrs:{label:"住址",placeholder:"请输入您的住址",rows:"1"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:e.handleSubmit}},[e._v("更新")])],1),a("van-form",[a("van-field",{attrs:{type:"password",name:"password",label:"旧密码",placeholder:"请输入密码","left-icon":"lock",rules:[{required:!0,message:"密码不能为空"},{validator:e.validatePassLength,message:"密码长度为8-16位字符"},{validator:e.validatePassSpacesChar,message:"密码不能包含空格"},{validator:e.validatePassSpecialChar,message:"密码包含非法字符"}]},model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}}),a("van-field",{attrs:{type:"password",name:"password",label:"新密码",placeholder:"请输入密码","left-icon":"lock",rules:[{required:!0,message:"密码不能为空"},{validator:e.validatePassLength,message:"密码长度为8-16位字符"},{validator:e.validatePassSpacesChar,message:"密码不能包含空格"},{validator:e.validatePassSpecialChar,message:"密码包含非法字符"}]},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),a("van-field",{attrs:{type:"password",name:"checkPassword",label:"重复密码",placeholder:"请再次输入密码","left-icon":"lock",rules:[{validator:e.validateCheckPass,message:"两次密码输入不一致"}]},model:{value:e.checkPassword,callback:function(t){e.checkPassword=t},expression:"checkPassword"}})],1),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:e.handleChangePass}},[e._v("修改密码")])],1)],1)},i=[],o=(a("b0c0"),a("ade3")),r=(a("66b9"),a("b650")),l=(a("e7e5"),a("d399")),c=(a("be7f"),a("565f")),d=(a("38d5"),a("772a")),u=a("365c"),f={components:(s={},Object(o["a"])(s,d["a"].name,d["a"]),Object(o["a"])(s,c["a"].name,c["a"]),Object(o["a"])(s,l["a"].name,l["a"]),Object(o["a"])(s,r["a"].name,r["a"]),s),data:function(){return{oldPassword:"",newPassword:"",checkPassword:""}},computed:{name:{get:function(){return this.$store.state.username},set:function(e){this.$store.commit("saveUserName",e)}},phone:{get:function(){return this.$store.state.phone},set:function(e){this.$store.commit("savePhone",e)}},address:{get:function(){return this.$store.state.address},set:function(e){this.$store.commit("saveAddress",e)}}},methods:{handleSubmit:function(){var e=this;u["a"].User.changeUserInfo(this.phone,this.name,this.address,this.$store.state.fund_applicant_detail,this.$store.state.activity_volunteer_detail).then((function(t){e.$toast.success(t)})).catch((function(t){e.$toast.fail(t.message),console.log(t)}))},handleChangePass:function(){var e=this;u["a"].User.changePass(this.oldPassword,this.newPassword).then((function(t){e.$toast.success(t)})).catch((function(t){e.$toast.fail(t.message),console.log(t)}))},validatePassLength:function(e){return!!/^.{8,16}$/.test(e)},validatePassSpacesChar:function(e){return!/\s+/.test(e)},validatePassSpecialChar:function(e){return!/[^\s\~\!\@\#\$\%\^\&\*\(\)\_\+\-\/\.\?\[\]\{\}\<\>\=0-9a-zA-Z]+/.test(e)},validateCheckPass:function(e){return e===this.newPassword}}},h=f,m=a("2877"),v=Object(m["a"])(h,n,i,!1,null,null,null);t["default"]=v.exports},"38d5":function(e,t,a){"use strict";a("68ef")},"772a":function(e,t,a){"use strict";var s=a("d282"),n=a("db85"),i=Object(s["a"])("form"),o=i[0],r=i[1];t["a"]=o({props:{colon:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,submitOnEnter:{type:Boolean,default:!0},validateTrigger:{type:String,default:"onBlur"},showError:{type:Boolean,default:!0},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{validateSeq:function(){var e=this;return new Promise((function(t,a){var s=[];e.fields.reduce((function(e,t){return e.then((function(){if(!s.length)return t.validate().then((function(e){e&&s.push(e)}))}))}),Promise.resolve()).then((function(){s.length?a(s):t()}))}))},validateAll:function(){var e=this;return new Promise((function(t,a){Promise.all(e.fields.map((function(e){return e.validate()}))).then((function(e){e=e.filter((function(e){return e})),e.length?a(e):t()}))}))},validate:function(e){return e?this.validateField(e):this.validateFirst?this.validateSeq():this.validateAll()},validateField:function(e){var t=this.fields.filter((function(t){return t.name===e}));return t.length?new Promise((function(e,a){t[0].validate().then((function(t){t?a(t):e()}))})):Promise.reject()},resetValidation:function(e){this.fields.forEach((function(t){e&&t.name!==e||t.resetValidation()}))},scrollToField:function(e,t){this.fields.forEach((function(a){a.name===e&&a.$el.scrollIntoView(t)}))},addField:function(e){this.fields.push(e),Object(n["a"])(this.fields,this)},removeField:function(e){this.fields=this.fields.filter((function(t){return t!==e}))},getValues:function(){return this.fields.reduce((function(e,t){return e[t.name]=t.formValue,e}),{})},onSubmit:function(e){e.preventDefault(),this.submit()},submit:function(){var e=this,t=this.getValues();this.validate().then((function(){e.$emit("submit",t)})).catch((function(a){e.$emit("failed",{values:t,errors:a}),e.scrollToError&&e.scrollToField(a[0].name)}))}},render:function(){var e=arguments[0];return e("form",{class:r(),on:{submit:this.onSubmit}},[this.slots()])}})}}]);